<!doctype html>
<html>

  <head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>CSS Modules (Part I)</title>

    <meta name="description" content="An instructional guide to creating CSS modules based on the theories covered in OOCSS and SMACSS. This is the first of two articles." />
    <meta name="author" content="Leban Hyde. Visual Alchemist | Codesmith | Brandologist" />
    <meta name="contact" content="leban@alchemyindesign.com" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../css/base.css" />
    <link rel="stylesheet" type="text/css" href="../css/theme.css" />
    <link rel="stylesheet" type="text/css" href="../css/massimo.css" />
    <link rel="stylesheet" type="text/css" href="../css/modules.css" />
    <link rel="stylesheet" type="text/css" href="../css/state.css" />

    <!-- This fix for alternate rendering modes. http://www.sitepoint.com/html5-shim-ie-emulation-mode/ -->
    <!--[if IE]>  
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>  
    <![endif]-->

  </head>

  <body id="body">

    <div class="l-wrap" id="top">

      <header class="l-header">

        <div class="l-bound">

          <div class="l-col l-col+7">
            <h3>
              <a href="../index.html" title="Home" class="logo ir">
                Leban Hyde. Visual Alchemist | Codesmith | Brandologist
              </a>
            </h3>
            <a class="menu dsp-3" href="#nav" aria-hidden="true">Menu</a>
          </div>

          <nav id="nav" class="l-col l-col+5" role="navigation">
            <h3 class="is-hidden">Site Navigation</h3>
            <ol class="l-row nav nav+main">
              <li class="l-col l-col+1"><a href="../work.html">Work</a></li>
              <li class="l-col l-col+1"><a href="../notes.html">Notes</a></li>
              <li class="l-col l-col+1"><a href="../about.html">About</a></li>
              <li class="l-col l-col+2"><a href="../contact.html">Contact</a></li>
              <li class="back"><a href="#body">Close</a></li>
            </ol>
          </nav>

        </div><!-- /.l-bound -->

      </header><!-- /.l-header -->

      <div class="l-content" role="main">

        <div class="l-bound">

          <article>

            <div class="hero hero-entry">
              <h1>
                Creating Modules (Part I)
              </h1>
            </div>

            <hr class="hr hr+1" />

            <div class="l-row section-std">

              <div class="l-col l-col+4">
                <p>
                  <time datetime="2013-02-13">13 Feb 2013</time>
                </p>
              </div>

              <div class="l-col l-col+8">

                <div class="section-std">

                  <p>
                    As a grid-based designer, modularity is a familiar concept to me. There are a variety of applications of modular design in the physical world, from furniture to architecture. Naturally, when I encountered the ideas of <a href="https://github.com/stubbornella/oocss">OOCSS</a> and <a href="http://smacss.com/">SMACSS</a>, a light turned on for me. I’ve been abiding by these principles for a little over a year and I wanted to share my process for creating a CSS module.
                  </p>

                  <p>
                    First, let’s make the following assumptions:
                  </p>

                  <ol>
                    <li>This project is new</li>
                    <li>We are working from PSDs (or PNGs)</li>
                    <li>We have familiarity with the principles of OOCSS and SMACSS</li>
                  </ol>

                </div>

                <section class="section-std">

                  <h2 class="hrb hrb+2">
                    Analysis
                  </h2>

                  <h3>
                    Information Analysis
                  </h3>

                  <p>
                    First, I analyze the information that’s on the page and write my HTML accordingly. If you are a designer, this should already be part of your process, but I’ll harp on that in another post. Write your HTML without any considerations for style and presentation. Just get the page structure down. This prevents us from getting ahead of ourselves and writing sloppy modules.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Pre-module CSS
                  </h3>

                  <p>
                    Now that the HTML is written, I then create some base styles for the overall project. I use <a href="http://necolas.github.com/normalize.css/">normalize.css</a> by Nicolas Gallagher as a starting point, but you can use Eric Meyer's <a href="http://meyerweb.com/eric/tools/css/reset/">Reset CSS</a> or write your own (even better!). In writing modular CSS, I cannot stress enough the importance of solid base styles. Be light handed, refrain from making too many assumptions, but get the basics down—font-size for the main body copy, typographical hierarchy, basic palette, etc.
                  </p>

                  <p>
                    As we go, we may discover additional styles that felt like modules at first, but can be converted into site-wide defaults. Again, just avoid heavy-handed decisions and keep the selectors simple.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Visual Analysis
                  </h3>

                  <p>
                    We implemented our base styles based on the PSD/PNG our designer has given us (or maybe you are the designer… +1 for you!). Now, review the mockup for site components with functional or visual similarities. <a href="http://bem.info/method/definitions/">BEM</a> demonstrates a great way to visually group chunks or blocks of information on a page so that you can begin breaking them down into modules. Header, body, footer, navigation, sub-navigation, utilities, callouts, calls-to-action… All components that I typically look for as candidates for CSS modules. You may also find that these same patterns repeat themselves on a micro-level within the components themselves. 
                  </p>

                  <p>
                    For example, header-body-footer is a common visual pattern in page layouts. You may find that your callout boxes, asides, article abstracts, and so on include some or all of this pattern within their standard layouts. Keep this in mind as we move forward.
                  </p>

                </section>

                <section class="section-std">

                  <h2 class="hrb hrb+2">
                    Authoring a Module
                  </h2>

                  <p>
                    We’ve identified a module and are ready to start writing our styles. I usually do this as a three step process—Rough, Refactor, Repeat.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Roughing
                  </h3>

                  <p>
                    Roughing is the loose coding of the module in order to get it to look the way we want, like a rough sketch. I don’t concern myself with naming, as this often takes careful consideration and can impede progress. I also avoid too many decisions on modularity. I’d much rather get the presentation correct. The rest we’ll review when we refactor.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Refactoring
                  </h3>

                  <p>
                    Refactoring is the clean up process of the code where I start making deeper considerations to optimize modularity. If the component is large, we may need to consider breaking it down into subcomponents<sup>*</sup>. We may also need to break our modules down into base modules and submodules<sup>*</sup>. Alternatively, we may need to separate into sibling modules<sup>*</sup>. These decisions should be made based on:
                  </p>

                  <ul>
                    <li>Repeating styles within modules of similar function</li>
                    <li>Reducing our dependency on HTML structure</li>
                    <li>Keeping the relationship tight between styles and the thing receiving styles</li>
                  </ul>

                  <p>
                    The roughing and refactoring are steps that will repeat themselves throughout the process. It’s okay if our initial assumptions were incorrect. Refactoring as we go will help us see our mistakes and better optimize our CSS for scalability.
                  </p>

                  <hr class="hr hr+3" />

                  <p>
                    <dfn><sup>*</sup>Subcomponents</dfn> are the parts of a larger whole. Like in the example above, a callout could be broken down into header, body, and footer. These are styled independently, but are intended to create an entire component.
                  </p>

                  <p>
                    <dfn><sup>*</sup>Submodules</dfn> are the granular bits of a single module. They are dependent on a base module in order to achieve maximum effectiveness. They generally work as such:
                  </p>

                  <dl>

                    <dt>
                      <dfn>Base Module</dfn>
                    </dt>
                    <dd>
                      Provides the common, unifying styles for that collection of modules.
                    </dd>

                    <dt>
                      <dfn>Submodule 1</dfn>
                    </dt>
                    <dd>
                      Provides some granularity of styles for the variations within that collection.
                    </dd>

                    <dt>
                      <dfn>Submodule 2</dfn>
                    </dt>
                    <dd>
                      Provides even further granularity, catering to a more specific case.
                    </dd>

                  </dl>

                  <p>
                    I’ve stopped at 3 levels because I generally adhere to the Rule of Three. This should be sufficient to provide us with general styles, specific styles, and even more specific styles. Getting too specific runs the risk of losing modularity.
                  </p>

                  <p>
                    <dfn><sup>*</sup>Sibling Modules</dfn> are functionally or semantically similar, but do not share the same values for common styles. They are independent modules that do not require a base module.
                  </p>

                </section>

                <section class="section-std">

                  <h2 class="hrb hrb+2">
                    Naming a Module
                  </h2>

                  <p>
                    Naming is probably more important than the styles themselves. This is nothing new to programmers. If you have some on your team, I would highly recommend talking with them. They can be a wonderful resource (especially if the practice <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">OOP</a>)!
                  </p>

                  <p>
                    We want the name to be page-agnostic—the module shouldn’t care about the page, it should only care about what it does. Functionality is a primary consideration when I name a module. If a module looks a certain way, it should be so for a reason. That reason should be indicated by what it does—Form Follows Function. So, what does it do? What is the purpose of this component? If it’s a callout, then that should probably be present in the name.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Approach
                  </h3>

                  <p>
                    Something to consider is what our overall approach is going to be. Are we going to be semantic purists or presentational pragmatists? On the <a href="https://github.com/stubbornella/oocss/wiki/FAQ">FAQ page</a> of the OOCSS Wiki, Nicole Sullivan states <q>OOCSS can be written in a semantic or non-semantic way</q> and, if you look at the framework, you will find class names that reflect both. For SMACSS, to <q>Increase the semantic value of a section of HTML and content</q> is one of two core goals. However, Jonathan Snook himself says to <q>Accept that class names may describe a visual state</q>, or in other words, be presentational. This will be something that you will have to make peace with as you work.
                  </p>

                  <hr class="hr hr+3" />

                  <h3>
                    Convention
                  </h3>

                  <p>
                    How we write the name of the module is part of the name we give it. SMACSS is largely a method of organizing your CSS, with naming conventions being a large part of what makes it work. In the case of modules and submodules, it is highly encouraged to include the name of the base module within the name of the submodule that extends it. For example:
                  </p>

                  <figure class="box box-example">
<pre>
<code>
.callout {…}
.callout-bold {…}
</code>
</pre>
                  </figure>

                  <p>
                    Also, our naming convention may need to indicate an item that is a subcomponent of its larger whole. Let’s revisit the header-body-footer pattern on this one:
                  </p>

                  <figure class="box box-example">
<pre>
<code>
.callout {…}
  .callout-hdr {…}
  .callout-bd {…}
  .callout-ftr {…}
</code>
</pre>
                  </figure>

                  <p>
                    Here we’ve indicated that the callout module is broken up into a header, some body, and a footer. However, we have an issue with clarity—both the submodule and the subcomponent look the same! To compound this issue, we could also have a sibling module. Like:
                  </p>

                  <figure class="box box-example">
<pre>
<code>
.heading-1 {…}
.heading-2 {…}
.heading-3 {…}
</code>
</pre>
                  </figure>

                  <p>
                    These heading modules would all address different font-sizes. Between them, there are no common styles to modularize, so there is no base module.
                  </p>

                  <p>
                    To remedy the muddled class names, we may want to extend our convention with casing and special characters. BEM uses a very clear language made up of dashes, double-dashes, and underscores to clarify intent. You could also use camelCasing or character\escaping to extend your convention. Whatever you use, be sure it’s agreed upon by the team, it clarifies intent, and stays consistent.
                  </p>

                </section>

                <section class="section-std">

                  <h2 class="hrb hrb+2">
                    Intermission
                  </h2>

                  <p>
                    This is Part I of Creating Modules. I tried my best to write this all in a single post, but soon realized that an understanding of the theory was just as important as the act itself. In <a href="creating-modules-part-ii.html">Part II</a>, we will create a sample module from a mockup, applying the theory we’ve discussed here.
                  </p>

                  <p>
                    Cheers!
                  </p>

                  <p>
                    <a href="../notes.html">&#8592; Back to Notes</a>
                  </p>

                </section>

                <hr class="hr hr+2" />

                <h2 class="is-hidden">Comments</h2>

                <div id="disqus_thread"></div>

                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'alchemyindesign'; // required: replace example with your forum shortname
                    var disqus_identifier = 'creating-modules-part-i.html';
                    var disqus_title = 'Creating Modules - Part I';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>

                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

              </div><!-- /.l-col+9 -->

            </div><!-- /.l-row -->

          </article>

        </div><!-- /.l-bound -->

      </div><!-- /.l-content -->

    </div><!-- /.l-wrap -->

    <!-- Stickey Footer -->
    <footer class="l-footer" role="contentinfo">

      <div class="l-bound">

          <div class="l-col l-col+3">

            <h4 class="logo-ftr dsp-5">
              <a href="../index.html" title="Home">Alchemy In Design.</a>
            </h4>

            <p>
              <small>&copy;2013 Leban Hyde.</small>
            </p>

          </div>

          
          <div class="l-col l-col+4">

            <h5 class="txt-tight">Email:</h5>

            <p>
              <a href="mailto:leban@alchemyindesign.com" class="txt-6">leban@alchemyindesign.com</a>
            </p>

          </div>

          <div class="l-col l-col+4">

            <h5 class="txt-tight">Social:</h5>

            <ul class="list list+row txt-6">
              <li>
                <a href="https://twitter.com/lhid">Twitter</a>
              </li>
              <li>
                <a href="http://pinterest.com/lebanh/">Pinterest</a>
              </li>
              <li>
                <a href="http://www.behance.net/lhid">Behance</a>
              </li>
              <li>
                <a href="https://github.com/lhid">GitHub</a>
              </li>
            </ul>

          </div>

          <div class="l-col l-col+1">
            <nav class="nav nav+ftr">
              <h5 class="is-hidden">Footer Navigation</h5>
              <a href="#top" title="Back to Top" class="dsp-2">
                <span role="presentation">&and;</span>
              </a>
            </nav>
          </div>

      </div><!-- /.l-bound -->

    </footer>

    <!-- Google Analytics -->
    <script>
      var _gaq=[['_setAccount','UA-34170107-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>

  </body>

</html>
